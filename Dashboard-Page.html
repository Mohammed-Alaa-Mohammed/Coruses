<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="dash-page.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Courses Page</title>
    <style>
        /* Ø£Ø¶Ù Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ù‡Ù†Ø§ Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø± */
    </style>
</head>
<body class="light-mode">

    <div class="header">
        <h1>Courses</h1>
        <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ™</button>
    </div>

    <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ÙÙ„ØªØ±Ø© -->
    <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ÙƒÙˆØ±Ø³..." oninput="filterCourses()">
        <select id="filterSelect" onchange="filterCourses()"
            style="width:190px;">
            <option value="all">Ø§Ù„ÙƒÙ„</option>
            <option value="free">Ù…Ø¬Ø§Ù†ÙŠ</option>
            <option value="paid">Ù…Ø¯ÙÙˆØ¹</option>
        </select>
    </div>

    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª -->
    <div class="course-container" id="courseList">
        <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ Ù‡Ù†Ø§ -->
    </div>

    <script>
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª Ù…Ù† localStorage ÙˆØ¹Ø±Ø¶Ù‡Ø§
        function loadCourses(filteredCourses = null) {
            const courses = filteredCourses || JSON.parse(localStorage.getItem('courses')) || [];
            const courseContainer = document.getElementById('courseList');
            courseContainer.innerHTML = '';

            courses.forEach((course, index) => {
                const courseElement = document.createElement('div');
                courseElement.classList.add('course');
                const buttonText = course.isPaid ? 'Ø¥Ø´ØªØ±Ùƒ Ø§Ù„Ø¢Ù†' : 'Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†';
                const buttonClass = course.isPaid ? 'subscribe' : 'start';

                courseElement.innerHTML = `
                    <h2>${course.title}</h2>
                    <p>${course.description}</p>
                    ${course.isPaid ? `<p>Ø§Ù„Ø³Ø¹Ø±: ${course.price} Ø±ÙŠØ§Ù„</p>` : ''}
                    <p>Ø§Ù„Ù…Ù‚Ø¯Ù…: ${course.instructor}</p>
                    <p>Ø¹Ø¯Ø¯ Ø§Ù„Ø¯Ø±ÙˆØ³: ${course.lessons}</p>
                    <button class="${buttonClass}">${buttonText}</button>
                `;
                courseContainer.appendChild(courseElement);
            });
        }

        // ÙÙ„ØªØ±Ø© Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ø§Ø®ØªÙŠØ§Ø±
        function filterCourses() {
            const searchInput = document.getElementById('searchInput').value.toLowerCase();
            const filterSelect = document.getElementById('filterSelect').value;

            const courses = JSON.parse(localStorage.getItem('courses')) || [];
            const filteredCourses = courses.filter(course => {
                const matchesSearch = course.title.toLowerCase().includes(searchInput) ||
                                      course.description.toLowerCase().includes(searchInput);
                const matchesFilter = 
                    filterSelect === 'all' ||
                    (filterSelect === 'free' && !course.isPaid) ||
                    (filterSelect === 'paid' && course.isPaid);
                return matchesSearch && matchesFilter;
            });

            loadCourses(filteredCourses);
        }

        // ØªØºÙŠÙŠØ± ÙˆØ¶Ø¹ Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø© ÙˆØ§Ù„Ø¸Ù„Ø§Ù…
        function toggleTheme() {
            const body = document.body;
            const currentMode = body.classList.contains('light-mode') ? 'light' : 'dark';
            body.classList.remove(`${currentMode}-mode`);
            body.classList.add(`${currentMode === 'light' ? 'dark' : 'light'}-mode`);
            document.querySelector('.theme-toggle').textContent = currentMode === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        window.onload = () => {
            loadCourses();
        };
    </script>

</body>
</html>